---
openshift:
  env: dev
  os_host: "dev-terra000006-idm.ocp.delta.sbrf.ru"
  io_control_panel: ci02281165-control-plane
  mesh_discovery_address: istiod-basic-install.ci02281165-control-plane.svc

os_project:
  ports:
    - port: 8080
  health_check: true
  host: "https://api.dev-terra000006-idm.ocp.delta.sbrf.ru:6443"
  project: ci02281165-antifraud
  name: antifraud
  istio:
    ingress:
      routes:
        - host: ingress-ci02281165-antifraud-tls.apps.dev-terra000006-idm.ocp.delta.sbrf.ru
          port: 5443
          containerPort: 8080
          name: mtls
          certificates:
            ca: "{{ secrets['istio-ingressgateway-ca-certs'].volume.mount }}"
            cert: "{{ secrets['istio-ingressgateway-certs'].volume.mount }}"
        - host: ingress-ci02281165-antifraud-geo-tls.apps.dev-terra000006-idm.ocp.delta.sbrf.ru
          port: 5441
          containerPort: 8080
          name: mtls-geo
          certificates:
            ca: "{{ secrets['istio-ingressgateway-ca-geo-certs'].volume.mount }}"
            cert: "{{ secrets['istio-ingressgateway-geo-certs'].volume.mount }}"
        - host: ingress-ci02281165-antifraud-ott.apps.dev-terra000006-idm.ocp.delta.sbrf.ru
          port: 5444
          containerPort: 8080
          name: ott
          certificates:
            ca: "{{ secrets['istio-ingressgateway-ca-certs'].volume.mount }}"
            cert: "{{ secrets['istio-ingressgateway-certs'].volume.mount }}"
        - host: ingress-ci02281165-antifraud-geo-ott.apps.dev-terra000006-idm.ocp.delta.sbrf.ru
          port: 5442
          containerPort: 8080
          name: ott-geo
          certificates:
            ca: "{{ secrets['istio-ingressgateway-ca-ott-geo-certs'].volume.mount }}"
            cert: "{{ secrets['istio-ingressgateway-ott-geo-certs'].volume.mount }}"
        - host: ingress-ci02281165-antifraud-geo-hc.apps.dev-terra000006-idm.ocp.delta.sbrf.ru
          port: 5446
          containerPort: 8080
          name: healthcheck
          certificates:
            ca: "{{ secrets['istio-ingressgateway-ca-hc-certs'].volume.mount }}"
            cert: "{{ secrets['istio-ingressgateway-hc-certs'].volume.mount }}"
      ott:
        key_store: dev-antifraud.p12
        trust_store: sigma_ott_trust.p12
        OTT_MODULE_ID: dev-antifraud

    egress:
      ott:
        port: 5443
        key_store: dev-antifraud.p12
        trust_store: sigma_ott_trust.p12
        OTT_MODULE_ID: dev-antifraud

nexus:
  base_uri: https://nexus-ci.delta.sbrf.ru/repository
  repository: maven-distr
  group: CI02473994
  artifactId: CI03045533

registry_area: registry.sigma.sbrf.ru
registry_area_app: docker-internal.registry-ci.delta.sbrf.ru
versionMask: "D-\\d{2}\\.\\d{3}\\.\\d{2}_\\d{4}"

project_suffix: "{{ (os_project.project | hash('md5'))[:6] }}"
suffix_istio_label: "{{ project_suffix }}"
suffix_app_label: "{{ project_suffix }}"

registry_ott: registry.sigma.sbrf.ru/pprb/ci00641491/ci01125613_ott
registry_istio_proxy: registry.sigma.sbrf.ru/registry_redhat_io/openshift-service-mesh

canary_suffix: main

fluentbit:
  module_id: pprb4-digital-fraud

app_journal:
  secret: secret-appjournalstubsettings

context_prefix: /antifraud/

fraud:
  adapter:
    context: /asfm/v1.0/pprb_bhb_hist_b2b_aful/notify

standin:
  cloud:
    client:
      subscription_kafka_concurrency: 5
      kafka_retry: 3
      retry_timeout: 600000
  plugin:
    configuration:
      replication_strategy: STANDIN_LOCKS
      serializer_type: BINARY_KRYO
      partition_lock_mode: NONE
      partition_multiplying_mode: FORBIDDEN
      ordering_control_strategy: IDEMPOTENT_ORDERING_CONTROL
